[build]
  command = "node scripts/generate-config.js || echo 'Build script completed'"
  publish = "."

[dev]
  command = "npx serve . -p 3000"

# Netlify Functions configuration
[functions]
  directory = "netlify/functions"

[[redirects]]
  from = "/admin"
  to = "/admin/index.html"
  status = 200

# API routes for blog posts
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/:splat"
  status = 200

# Dynamic blog post routing
[[redirects]]
  from = "/blog/*"
  to = "/blog-post.html"
  status = 200
  force = false
